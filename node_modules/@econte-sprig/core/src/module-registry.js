import { CLICK_LOGGER_NAME, KEY_LOGGER_NAME, MOUSE_LOGGER_NAME } from "./types";
import p from '../package.json';
import semver from 'semver';
const major = semver.major(p.version);
const minor = semver.minor(p.version);
let registeredModules = [];
export const ModuleRegistry = {
    RegisterModules: (...modules) => {
        modules.forEach((m) => {
            if (major !== semver.major(m.version) || minor !== semver.minor(m.version)) {
                throw new Error('Version mismatch');
            }
        });
        console.log('Registered version: ' + p.version + ' / ' + modules.map((m) => m.name).join(', '));
        registeredModules = modules;
    },
    ClickLogger: () => {
        return registeredModules.find((m) => m.name === CLICK_LOGGER_NAME);
    },
    MouseLogger: () => {
        return registeredModules.find((m) => m.name === MOUSE_LOGGER_NAME);
    },
    KeyLogger: () => {
        return registeredModules.find((m) => m.name === KEY_LOGGER_NAME);
    },
};
//# sourceMappingURL=module-registry.js.map